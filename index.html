<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>Package Viewer</title>
  <style>
    body { font-family: Vazirmatn, sans-serif; background:#f7f9fb; margin:0; }
    header { background:#4a90e2; color:#fff; padding:1rem; display:flex; justify-content:space-between; align-items:center; }
    header h1 { margin:0; font-size:1.4rem; }
    .controls { display:flex; gap:.5rem; }
    main { display:flex; padding:1rem; gap:1rem; }
    .sidebar { width:30%; background:#fff; padding:1rem; border-radius:10px; box-shadow:0 2px 5px rgba(0,0,0,.1); overflow-y:auto; max-height:80vh; }
    .card { padding:.8rem; border-bottom:1px solid #eee; cursor:pointer; transition:.2s; }
    .card:hover { background:#f0f4ff; }
    .content { flex:1; background:#fff; padding:1rem; border-radius:10px; box-shadow:0 2px 5px rgba(0,0,0,.1); }
    h2 { margin-top:0; }
    .empty { color:#aaa; }
    select, input { padding:.4rem; border-radius:6px; border:1px solid #ccc; }
  </style>
</head>
<body>
  <header>
    <h1 id="title"></h1>
    <div class="controls">
      <input id="search" type="search" />
      <select id="filter"></select>
      <select id="lang">
        <option value="fa">فارسی</option>
        <option value="en">English</option>
      </select>
    </div>
  </header>
  <main>
    <aside class="sidebar" id="packageList"></aside>
    <section class="content">
      <div id="details" class="empty"></div>
    </section>
  </main>

<script>
// متن‌ها برای هر زبان
const texts = {
  fa: {
    title: "نمایش مشخصات پکیج‌ها",
    searchPlaceholder: "جستجوی نام یا ویژگی...",
    categories: { all:"همه دسته‌ها", basic:"پایه", pro:"پیشرفته", enterprise:"سازمانی" },
    empty: "یک پکیج انتخاب کن تا مشخصات کامل نمایش داده شود.",
    labels: { features:"ویژگی‌ها" }
  },
  en: {
    title: "Package Details Viewer",
    searchPlaceholder: "Search by name or feature...",
    categories: { all:"All Categories", basic:"Basic", pro:"Pro", enterprise:"Enterprise" },
    empty: "Select a package to see details.",
    labels: { features:"Features" }
  }
};

// داده‌های پکیج‌ها (دو زبانه)
const packages = [
  {
    id:1, category:"basic",
    fa:{ name:"پکیج پایه", short:"شروع سرمایه‌گذاری کوچک", features:["سرمایه اولیه کم","ریسک پایین","پشتیبانی عمومی"] },
    en:{ name:"Basic Package", short:"Start small investments", features:["Low initial capital","Low risk","General support"] }
  },
  {
    id:2, category:"pro",
    fa:{ name:"پکیج حرفه‌ای", short:"مناسب سرمایه‌گذاران با تجربه", features:["سود بالاتر","ریسک متوسط","پشتیبانی اختصاصی"] },
    en:{ name:"Pro Package", short:"For experienced investors", features:["Higher returns","Moderate risk","Dedicated support"] }
  },
  {
    id:3, category:"enterprise",
    fa:{ name:"پکیج سازمانی", short:"برای کسب‌وکارها و سرمایه بزرگ", features:["مدیریت اختصاصی","تحلیل حرفه‌ای","سوددهی متنوع"] },
    en:{ name:"Enterprise Package", short:"For businesses and large capital", features:["Dedicated management","Professional analytics","Diverse profits"] }
  }
];

let currentLang = localStorage.getItem("lang") || "fa";
let selectedCategory = "all";
let searchQuery = "";

// اعمال زبان
function applyLanguage(lang){
  currentLang = lang;
  localStorage.setItem("lang", lang);
  document.getElementById("title").textContent = texts[lang].title;
  document.getElementById("search").placeholder = texts[lang].searchPlaceholder;

  const filter = document.getElementById("filter");
  filter.innerHTML = `
    <option value="all">${texts[lang].categories.all}</option>
    <option value="basic">${texts[lang].categories.basic}</option>
    <option value="pro">${texts[lang].categories.pro}</option>
    <option value="enterprise">${texts[lang].categories.enterprise}</option>
  `;

  document.getElementById("empty").textContent = texts[lang].empty;
  renderList();
  renderDetails(selectedId);
}

// رندر لیست
function renderList(){
  const list = document.getElementById("packageList");
  list.innerHTML = "";
  packages
    .filter(p => selectedCategory==="all" || p.category===selectedCategory)
    .filter(p => p[currentLang].name.includes(searchQuery) || p[currentLang].short.includes(searchQuery))
    .forEach(p=>{
      const div = document.createElement("div");
      div.className="card";
      div.innerHTML=`<strong>${p[currentLang].name}</strong><br/><small>${p[currentLang].short}</small>`;
      div.onclick=()=>{ selectedId=p.id; renderDetails(p.id); };
      list.appendChild(div);
    });
}

// رندر جزئیات
let selectedId = null;
function renderDetails(id){
  const details = document.getElementById("details");
  if(!id){
    details.className="empty";
    details.textContent=texts[currentLang].empty;
    return;
  }
  const pkg = packages.find(p=>p.id===id);
  details.className="";
  details.innerHTML=`
    <h2>${pkg[currentLang].name}</h2>
    <p>${pkg[currentLang].short}</p>
    <h3>${texts[currentLang].labels.features}</h3>
    <ul>${pkg[currentLang].features.map(f=>`<li>${f}</li>`).join("")}</ul>
  `;
}

// رویدادها
document.getElementById("filter").addEventListener("change",e=>{
  selectedCategory=e.target.value; renderList();
});
document.getElementById("search").addEventListener("input",e=>{
  searchQuery=e.target.value; renderList();
});
document.getElementById("lang").addEventListener("change",e=>{
  applyLanguage(e.target.value);
});

// بارگذاری اولیه
applyLanguage(currentLang);
document.getElementById("lang").value=currentLang;
</script>
</body>
</html>
